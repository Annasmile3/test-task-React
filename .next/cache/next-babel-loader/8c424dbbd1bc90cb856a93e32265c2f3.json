{"ast":null,"code":"var _jsxFileName = \"D:\\\\test_tasks\\\\test-task-React\\\\pages\\\\posts\\\\new.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../../components/MyLayout';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport styled from 'styled-components';\nconst Heading = styled.h1`\n  width: 250px;\n  margin: 30px auto 40px;\n`;\nconst NewPostForm = styled.form`\n  width: 250px;\n  margin: 30px auto 50px;\n  text-align: center;\n\n  input {\n    width: 100%;\n   padding: 5px;\n   border: 1px solid black;\n  border-radius: 2px;\n\n  &:focus {\n    background-color: #e6e6e6;\n  }\n}\n\ntextarea {\n  width: 100%;\n  padding: 5px;\n  margin: 20px auto 20px;\n  border: 1px solid black;\n  border-radius: 2px;\n}\n.error {\n  text-align: left\n}\n`;\nconst SubmitButton = styled.button`\n  width: 80px;\n  padding: 5px;\n  text-align: center;\n  margin: 0 auto;\n  background-color: #00cc66;\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  font-weight: bold;\n  cursor: pointer;\n`;\n\nconst NewPost = () => {\n  const {\n    0: title,\n    1: setTitle\n  } = useState('');\n  const {\n    0: body,\n    1: setBody\n  } = useState('');\n  const {\n    0: error,\n    1: setError\n  } = useState(false);\n\n  const handleTitleChange = e => {\n    setError(false);\n    setTitle(e.target.value);\n  };\n\n  const handleBodyChange = e => {\n    setError(false);\n    setBody(e.currentTarget.value);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (title.trim() !== '' && body.trim() !== '') {\n      await axios.post('https://simple-blog-api.crew.red/posts', {\n        title,\n        body\n      });\n      setTitle('');\n      setBody('');\n    } else {\n      setError(true);\n    }\n  };\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, __jsx(Heading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Create new post\"), __jsx(NewPostForm, {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    value: title,\n    name: \"title\",\n    placeholder: \"Enter the title\",\n    onChange: handleTitleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), error && title.trim() === '' && __jsx(\"div\", {\n    style: {\n      color: \"red\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"The title is empty\"), __jsx(\"textarea\", {\n    rows: 5,\n    value: body,\n    name: \"body\",\n    placeholder: \"Enter the post\",\n    onChange: handleBodyChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), error && body.trim() === '' && __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"The post field is empty\"), __jsx(SubmitButton, {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Create\")));\n};\n\nexport default NewPost;","map":{"version":3,"sources":["D:/test_tasks/test-task-React/pages/posts/new.tsx"],"names":["Layout","axios","useState","styled","Heading","h1","NewPostForm","form","SubmitButton","button","NewPost","title","setTitle","body","setBody","error","setError","handleTitleChange","e","target","value","handleBodyChange","currentTarget","handleSubmit","preventDefault","trim","post","color"],"mappings":"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","sourcesContent":["import Layout from '../../components/MyLayout';\nimport axios  from 'axios';\nimport { useState, ChangeEvent, FormEvent } from 'react';\nimport styled from 'styled-components'\n\nconst Heading = styled.h1`\n  width: 250px;\n  margin: 30px auto 40px;\n`\nconst NewPostForm = styled.form`\n  width: 250px;\n  margin: 30px auto 50px;\n  text-align: center;\n\n  input {\n    width: 100%;\n   padding: 5px;\n   border: 1px solid black;\n  border-radius: 2px;\n\n  &:focus {\n    background-color: #e6e6e6;\n  }\n}\n\ntextarea {\n  width: 100%;\n  padding: 5px;\n  margin: 20px auto 20px;\n  border: 1px solid black;\n  border-radius: 2px;\n}\n.error {\n  text-align: left\n}\n`\n\nconst SubmitButton = styled.button`\n  width: 80px;\n  padding: 5px;\n  text-align: center;\n  margin: 0 auto;\n  background-color: #00cc66;\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  font-weight: bold;\n  cursor: pointer;\n`\nconst NewPost = () => {\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [error, setError] = useState(false);\n  const handleTitleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setError(false);\n    setTitle(e.target.value);\n  };\n\n  const handleBodyChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    setError(false);\n    setBody(e.currentTarget.value);\n  };\n\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    \n    if (title.trim() !== '' &&  body.trim() !== '') {\n      await axios\n        .post('https://simple-blog-api.crew.red/posts', { title, body });\n      setTitle('');\n      setBody('');\n    } else {\n      setError(true);\n    }\n  }  \n    return(\n      <Layout>\n        <Heading>Create new post</Heading>\n          <NewPostForm onSubmit={handleSubmit}>\n            <input\n              type=\"text\"\n              value={title}\n              name=\"title\"\n              placeholder=\"Enter the title\"\n              onChange={handleTitleChange}\n            />\n            {(error && title.trim() === '') && <div style={ {color: \"red\"} }>The title is empty</div>}\n            <textarea\n              rows={5}\n              value={body} \n              name=\"body\"\n              placeholder=\"Enter the post\" \n              onChange={handleBodyChange} \n            />\n            {(error && body.trim() === '') && <div>The post field is empty</div>}\n            <SubmitButton type=\"submit\">Create</SubmitButton>\n          </NewPostForm>\n      </Layout>\n    );\n  };\n\nexport default NewPost;"]},"metadata":{},"sourceType":"module"}