{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"D:\\\\test_tasks\\\\test-task-React\\\\pages\\\\posts\\\\new.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../../components/MyLayout';\nimport axios from 'axios';\nimport { useState } from 'react';\n\nvar NewPost = function NewPost() {\n  var _useState = useState(''),\n      title = _useState[0],\n      setTitle = _useState[1];\n\n  var _useState2 = useState(''),\n      body = _useState2[0],\n      setBody = _useState2[1];\n\n  var handleTitleChange = function handleTitleChange(e) {\n    setTitle(e.target.value);\n  };\n\n  var handleBodyChange = function handleBodyChange(e) {\n    setBody(e.currentTarget.value);\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    return _regeneratorRuntime.async(function handleSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n\n            if (!(title.trim().length > 0 && body.trim().length > 0)) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(axios.post('https://simple-blog-api.crew.red/posts', {\n              data: {\n                title: title,\n                body: body\n              }\n            }));\n\n          case 4:\n            setTitle('');\n            setBody('');\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    value: title,\n    placeholder: \"title\",\n    onChange: handleTitleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }), __jsx(\"textarea\", {\n    value: body,\n    placeholder: \"post\",\n    onChange: handleBodyChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Create\")));\n}; // Post.getInitialProps = async function(context: any) {\n//   const { id } = context.query;\n//   const res = await axios.post(`https://simple-blog-api.crew.red/posts/`);\n//   return { post: res.data };\n// };\n\n\nexport default NewPost;","map":{"version":3,"sources":["D:/test_tasks/test-task-React/pages/posts/new.tsx"],"names":["Layout","axios","useState","NewPost","title","setTitle","body","setBody","handleTitleChange","e","target","value","handleBodyChange","currentTarget","handleSubmit","preventDefault","trim","length","post","data"],"mappings":";;;;AAAA,OAAOA,MAAP,MAAmB,2BAAnB;AACA,OAAOC,KAAP,MAAmB,OAAnB;AACA,SAASC,QAAT,QAAoC,OAApC;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAAA,kBACMD,QAAQ,CAAC,EAAD,CADd;AAAA,MACbE,KADa;AAAA,MACNC,QADM;;AAAA,mBAEIH,QAAQ,CAAC,EAAD,CAFZ;AAAA,MAEbI,IAFa;AAAA,MAEPC,OAFO;;AAIpB,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,CAAD,EAAoC;AAC5DJ,IAAAA,QAAQ,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AACD,GAFD;;AAIA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACH,CAAD,EAAuC;AAC9DF,IAAAA,OAAO,CAACE,CAAC,CAACI,aAAF,CAAgBF,KAAjB,CAAP;AACD,GAFD;;AAIA,MAAMG,YAAY,GAAG,SAAfA,YAAe,CAAOL,CAAP;AAAA;AAAA;AAAA;AAAA;AACnBA,YAAAA,CAAC,CAACM,cAAF;;AADmB,kBAGfX,KAAK,CAACY,IAAN,GAAaC,MAAb,GAAsB,CAAtB,IAA2BX,IAAI,CAACU,IAAL,GAAYC,MAAZ,GAAqB,CAHjC;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAIXhB,KAAK,CACRiB,IADG,CACE,wCADF,EAC4C;AAAEC,cAAAA,IAAI,EAAC;AAAEf,gBAAAA,KAAK,EAALA,KAAF;AAASE,gBAAAA,IAAI,EAAJA;AAAT;AAAP,aAD5C,CAJW;;AAAA;AAMjBD,YAAAA,QAAQ,CAAC,EAAD,CAAR;AACAE,YAAAA,OAAO,CAAC,EAAD,CAAP;;AAPiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAArB;;AAUE,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,QAAQ,EAAEO,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAEV,KAFT;AAGE,IAAA,WAAW,EAAC,OAHd;AAIE,IAAA,QAAQ,EAAEI,iBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE;AACE,IAAA,KAAK,EAAEF,IADT;AAEE,IAAA,WAAW,EAAC,MAFd;AAGE,IAAA,QAAQ,EAAEM,gBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAYE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAZF,CADJ,CADF;AAkBD,CAxCH,C,CA0CA;AACA;AACA;AAEA;AACA;;;AAEA,eAAeT,OAAf","sourcesContent":["import Layout from '../../components/MyLayout';\nimport axios  from 'axios';\nimport { useState, FormEvent } from 'react';\n\nconst NewPost = () => {\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n\n  const handleTitleChange = (e: FormEvent<HTMLInputElement>) => {\n    setTitle(e.target.value);\n  };\n\n  const handleBodyChange = (e: FormEvent<HTMLTextAreaElement>) => {\n    setBody(e.currentTarget.value);\n  };\n\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    \n    if (title.trim().length > 0 && body.trim().length > 0) {\n      await axios\n        .post('https://simple-blog-api.crew.red/posts', { data:{ title, body }});\n      setTitle('');\n      setBody('');\n    }\n  }  \n    return(\n      <Layout>\n          <form onSubmit={handleSubmit}>\n            <input\n              type=\"text\"\n              value={title}\n              placeholder=\"title\"\n              onChange={handleTitleChange}\n            />\n            <textarea \n              value={body} \n              placeholder=\"post\" \n              onChange={handleBodyChange} \n            />\n            <button type=\"submit\">Create</button>\n          </form>\n      </Layout>\n    );\n  };\n\n// Post.getInitialProps = async function(context: any) {\n//   const { id } = context.query;\n//   const res = await axios.post(`https://simple-blog-api.crew.red/posts/`);\n\n//   return { post: res.data };\n// };\n\nexport default NewPost;"]},"metadata":{},"sourceType":"module"}