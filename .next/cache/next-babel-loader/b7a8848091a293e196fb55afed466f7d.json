{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"D:\\\\test_tasks\\\\test-task-React\\\\pages\\\\posts\\\\new.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 70px;\\n  text-align: center;\\n  margin: 0 auto;\\n  cursor: pointer;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\nwidth: 250px;\\nmargin: 30px auto 50px;\\ntext-align: center;\\n\\ninput {\\n  width: 100%;\\n  padding: 5px;\\n  border: 1px solid black;\\n  border-radius: 2px;\\n}\\n\\ntextarea {\\n  background: \", \";\\n  color: \", \";\\n  width: 100%;\\n  padding: 5px;\\n  margin: 20px auto 20px;\\n  border: 1px solid black;\\n  border-radius: 2px;\\n}\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 250px;\\n  margin: 30px auto 40px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport Layout from '../../components/MyLayout';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport styled from 'styled-components';\nvar Heading = styled.h1(_templateObject());\nvar NewPostForm = styled.form(_templateObject2(), function (props) {\n  return error ? \"palevioletred\" : \"white\";\n}, function (props) {\n  return error ? \"white\" : \"palevioletred\";\n});\nvar SubmitButton = styled.button(_templateObject3());\n\nvar NewPost = function NewPost() {\n  var _useState = useState(''),\n      title = _useState[0],\n      setTitle = _useState[1];\n\n  var _useState2 = useState(''),\n      body = _useState2[0],\n      setBody = _useState2[1];\n\n  var _useState3 = useState(false),\n      error = _useState3[0],\n      setError = _useState3[1];\n\n  var handleTitleChange = function handleTitleChange(e) {\n    setError(false);\n    setTitle(e.target.value);\n  };\n\n  var handleBodyChange = function handleBodyChange(e) {\n    setError(false);\n    setBody(e.currentTarget.value);\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    return _regeneratorRuntime.async(function handleSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n\n            if (!(title.trim() !== '' && body.trim() !== '')) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(axios.post('https://simple-blog-api.crew.red/posts', {\n              title: title,\n              body: body\n            }));\n\n          case 4:\n            setTitle('');\n            setBody('');\n            _context.next = 9;\n            break;\n\n          case 8:\n            setError(true);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, __jsx(Heading, {\n    primary: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Create new post\"), __jsx(NewPostForm, {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    value: title,\n    name: \"title\",\n    placeholder: \"Enter the title\",\n    onChange: handleTitleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), error && title.trim() === '' && __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Tht title is empty\"), __jsx(\"textarea\", {\n    rows: 5,\n    value: body,\n    name: \"body\",\n    placeholder: \"Enter the post\",\n    onChange: handleBodyChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }), error && body.trim() === '' && __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Tht post field is empty\"), __jsx(SubmitButton, {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Create\")));\n};\n\nexport default NewPost;","map":{"version":3,"sources":["D:/test_tasks/test-task-React/pages/posts/new.tsx"],"names":["Layout","axios","useState","styled","Heading","h1","NewPostForm","form","props","error","SubmitButton","button","NewPost","title","setTitle","body","setBody","setError","handleTitleChange","e","target","value","handleBodyChange","currentTarget","handleSubmit","preventDefault","trim","post"],"mappings":"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","sourcesContent":["import Layout from '../../components/MyLayout';\nimport axios  from 'axios';\nimport { useState, ChangeEvent, FormEvent } from 'react';\nimport styled from 'styled-components'\n\nconst Heading = styled.h1`\n  width: 250px;\n  margin: 30px auto 40px;\n`\nconst NewPostForm = styled.form`\nwidth: 250px;\nmargin: 30px auto 50px;\ntext-align: center;\n\ninput {\n  width: 100%;\n  padding: 5px;\n  border: 1px solid black;\n  border-radius: 2px;\n}\n\ntextarea {\n  background: ${props => error ? \"palevioletred\" : \"white\"};\n  color: ${props => error ? \"white\" : \"palevioletred\"};\n  width: 100%;\n  padding: 5px;\n  margin: 20px auto 20px;\n  border: 1px solid black;\n  border-radius: 2px;\n}\n`\n\nconst SubmitButton = styled.button`\n  width: 70px;\n  text-align: center;\n  margin: 0 auto;\n  cursor: pointer;\n`\nconst NewPost = () => {\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [error, setError] = useState(false);\n\n  const handleTitleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setError(false);\n    setTitle(e.target.value);\n  };\n\n  const handleBodyChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    setError(false);\n    setBody(e.currentTarget.value);\n  };\n\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    \n    if (title.trim() !== '' &&  body.trim() !== '') {\n      await axios\n        .post('https://simple-blog-api.crew.red/posts', { title, body });\n      setTitle('');\n      setBody('');\n    } else {\n      setError(true);\n    }\n  }  \n    return(\n      <Layout>\n        <Heading primary>Create new post</Heading>\n          <NewPostForm onSubmit={handleSubmit}>\n            <input\n              type=\"text\"\n              value={title}\n              name=\"title\"\n              placeholder=\"Enter the title\"\n              onChange={handleTitleChange}\n            />\n            {(error && title.trim() === '') && <div>Tht title is empty</div>}\n            <textarea\n              rows={5}\n              value={body} \n              name=\"body\"\n              placeholder=\"Enter the post\" \n              onChange={handleBodyChange} \n            />\n            {(error && body.trim() === '') && <div>Tht post field is empty</div>}\n            <SubmitButton type=\"submit\">Create</SubmitButton>\n          </NewPostForm>\n      </Layout>\n    );\n  };\n\nexport default NewPost;"]},"metadata":{},"sourceType":"module"}