{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport Layout from '../../components/MyLayout';\nimport axios from 'axios';\nimport styled from 'styled-components';\nconst Heading = styled.h1`\n  width: 250px;\n  margin: 30px auto 40px;\n`;\nconst NewPostForm = styled.form`\n  width: 250px;\n  margin: 30px auto 50px;\n  text-align: center;\n\n  input {\n    width: 100%;\n     padding: 5px;\n     border: 1px solid black;\n     border-radius: 2px;\n\n    &:focus {\n     background-color: #e6e6e6;\n    }\n  }\n\n  textarea {\n    width: 100%;\n    padding: 5px;\n    margin: 20px auto 0;\n    border: 1px solid black;\n    border-radius: 2px;\n  }\n  .error {\n    text-align: left;\n    color: red;\n  }\n`;\nconst SubmitButton = styled.button`\n  width: 80px;\n  padding: 5px;\n  text-align: center;\n  margin: 20px auto 0;\n  background-color: #00cc66;\n  color: #fff;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  font-weight: bold;\n  cursor: pointer;\n`;\n\nconst NewPost = () => {\n  const {\n    0: title,\n    1: setTitle\n  } = useState('');\n  const {\n    0: body,\n    1: setBody\n  } = useState('');\n  const {\n    0: error,\n    1: setError\n  } = useState(false);\n\n  const handleTitleChange = e => {\n    setError(false);\n    setTitle(e.target.value);\n  };\n\n  const handleBodyChange = e => {\n    setError(false);\n    setBody(e.target.value);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (title.trim() !== '' && body.trim() !== '') {\n      await axios.post('https://simple-blog-api.crew.red/posts', {\n        title,\n        body\n      });\n      setTitle('');\n      setBody('');\n    } else {\n      setError(true);\n    }\n  };\n\n  return __jsx(Layout, null, __jsx(Heading, null, \"Create new post\"), __jsx(NewPostForm, {\n    onSubmit: handleSubmit\n  }, __jsx(\"input\", {\n    type: \"text\",\n    value: title,\n    name: \"title\",\n    placeholder: \"Enter the title\",\n    onChange: handleTitleChange\n  }), error && title.trim() === '' && __jsx(\"div\", {\n    className: \"error\"\n  }, \"The title is empty\"), __jsx(\"textarea\", {\n    rows: 5,\n    value: body,\n    name: \"body\",\n    placeholder: \"Enter the post\",\n    onChange: handleBodyChange\n  }), error && body.trim() === '' && __jsx(\"div\", {\n    className: \"error\"\n  }, \"The post field is empty\"), __jsx(SubmitButton, {\n    type: \"submit\"\n  }, \"Create\")));\n};\n\nexport default NewPost;","map":null,"metadata":{},"sourceType":"module"}