{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 80px;\\n  padding: 5px;\\n  text-align: center;\\n  margin: 20px auto 0;\\n  background-color: #00cc66;\\n  color: #fff;\\n  border: none;\\n  outline: none;\\n  border-radius: 5px;\\n  font-weight: bold;\\n  cursor: pointer;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 250px;\\n  margin: 30px auto 50px;\\n  text-align: center;\\n\\n  input {\\n    width: 100%;\\n     padding: 5px;\\n     border: 1px solid black;\\n     border-radius: 2px;\\n\\n    &:focus {\\n     background-color: #e6e6e6;\\n    }\\n  }\\n\\n  textarea {\\n    width: 100%;\\n    padding: 5px;\\n    margin: 20px auto 0;\\n    border: 1px solid black;\\n    border-radius: 2px;\\n  }\\n  .error {\\n    text-align: left;\\n    color: red;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 250px;\\n  margin: 30px auto 40px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useState } from 'react';\nimport Layout from '../../components/MyLayout';\nimport axios from 'axios';\nimport styled from 'styled-components';\nvar Heading = styled.h1(_templateObject());\nvar NewPostForm = styled.form(_templateObject2());\nvar SubmitButton = styled.button(_templateObject3());\n\nvar NewPost = function NewPost() {\n  var _useState = useState(''),\n      title = _useState[0],\n      setTitle = _useState[1];\n\n  var _useState2 = useState(''),\n      body = _useState2[0],\n      setBody = _useState2[1];\n\n  var _useState3 = useState(false),\n      error = _useState3[0],\n      setError = _useState3[1];\n\n  var handleTitleChange = function handleTitleChange(e) {\n    setError(false);\n    setTitle(e.target.value);\n  };\n\n  var handleBodyChange = function handleBodyChange(e) {\n    setError(false);\n    setBody(e.target.value);\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    return _regeneratorRuntime.async(function handleSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n\n            if (!(title.trim() !== '' && body.trim() !== '')) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(axios.post('https://simple-blog-api.crew.red/posts', {\n              title: title,\n              body: body\n            }));\n\n          case 4:\n            setTitle('');\n            setBody('');\n            _context.next = 9;\n            break;\n\n          case 8:\n            setError(true);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return __jsx(Layout, null, __jsx(Heading, null, \"Create new post\"), __jsx(NewPostForm, {\n    onSubmit: handleSubmit\n  }, __jsx(\"input\", {\n    type: \"text\",\n    value: title,\n    name: \"title\",\n    placeholder: \"Enter the title\",\n    onChange: handleTitleChange\n  }), error && title.trim() === '' && __jsx(\"div\", {\n    className: \"error\"\n  }, \"The title is empty\"), __jsx(\"textarea\", {\n    rows: 5,\n    value: body,\n    name: \"body\",\n    placeholder: \"Enter the post\",\n    onChange: handleBodyChange\n  }), error && body.trim() === '' && __jsx(\"div\", {\n    className: \"error\"\n  }, \"The post field is empty\"), __jsx(SubmitButton, {\n    type: \"submit\"\n  }, \"Create\")));\n};\n\nexport default NewPost;","map":null,"metadata":{},"sourceType":"module"}