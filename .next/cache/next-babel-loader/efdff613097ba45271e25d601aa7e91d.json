{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"D:\\\\test_tasks\\\\test-task-React\\\\pages\\\\posts\\\\new.tsx\";\nvar __jsx = React.createElement;\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 80px;\\n  padding: 5px;\\n  text-align: center;\\n  margin: 20px auto 0;\\n  background-color: #00cc66;\\n  color: #fff;\\n  border: none;\\n  outline: none;\\n  border-radius: 5px;\\n  font-weight: bold;\\n  cursor: pointer;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 250px;\\n  margin: 30px auto 50px;\\n  text-align: center;\\n\\n  input {\\n    width: 100%;\\n     padding: 5px;\\n     border: 1px solid black;\\n     border-radius: 2px;\\n\\n    &:focus {\\n     background-color: #e6e6e6;\\n    }\\n  }\\n\\n  textarea {\\n    width: 100%;\\n    padding: 5px;\\n    margin: 20px auto 0;\\n    border: 1px solid black;\\n    border-radius: 2px;\\n  }\\n  .error {\\n    text-align: left;\\n    color: red;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 250px;\\n  margin: 30px auto 40px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { nextConnect } from '../../store/index';\nimport { addPost } from '../../actions';\nimport Layout from '../../components/MyLayout';\nvar Heading = styled.h1(_templateObject());\nvar NewPostForm = styled.form(_templateObject2());\nvar SubmitButton = styled.button(_templateObject3());\n\nvar NewPost = function NewPost(store) {\n  var _useState = useState(''),\n      title = _useState[0],\n      setTitle = _useState[1];\n\n  var _useState2 = useState(''),\n      body = _useState2[0],\n      setBody = _useState2[1];\n\n  var _useState3 = useState(false),\n      error = _useState3[0],\n      setError = _useState3[1];\n\n  var handleTitleChange = function handleTitleChange(e) {\n    setError(false);\n    setTitle(e.target.value);\n  };\n\n  var handleBodyChange = function handleBodyChange(e) {\n    setError(false);\n    setBody(e.target.value);\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n\n    if (title.trim() !== '' && body.trim() !== '') {\n      store.dispatch(addPost({\n        title: title,\n        body: body\n      }));\n      setTitle('');\n      setBody('');\n    } else {\n      setError(true);\n    }\n  };\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, __jsx(Heading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Create new post\"), __jsx(NewPostForm, {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"text\",\n    value: title,\n    name: \"title\",\n    placeholder: \"Enter the title\",\n    onChange: handleTitleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), error && title.trim() === '' && __jsx(\"div\", {\n    className: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"The title is empty\"), __jsx(\"textarea\", {\n    rows: 5,\n    value: body,\n    name: \"body\",\n    placeholder: \"Enter the post\",\n    onChange: handleBodyChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), error && body.trim() === '' && __jsx(\"div\", {\n    className: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"The post field is empty\"), __jsx(SubmitButton, {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"Create\")));\n};\n\nexport default nextConnect(function (state) {\n  return state;\n})(NewPost);","map":{"version":3,"sources":["D:/test_tasks/test-task-React/pages/posts/new.tsx"],"names":["React","useState","styled","nextConnect","addPost","Layout","Heading","h1","NewPostForm","form","SubmitButton","button","NewPost","store","title","setTitle","body","setBody","error","setError","handleTitleChange","e","target","value","handleBodyChange","handleSubmit","preventDefault","trim","dispatch","state"],"mappings":"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","sourcesContent":["import React, { useState, ChangeEvent, FormEvent } from 'react';\nimport styled from 'styled-components';\nimport { nextConnect } from '../../store/index';\nimport { store } from '../../store/index'\nimport { addPost, fetchPosts } from '../../actions';\nimport Layout from '../../components/MyLayout';\nconst Heading = styled.h1`\n  width: 250px;\n  margin: 30px auto 40px;\n`;\n\nconst NewPostForm = styled.form`\n  width: 250px;\n  margin: 30px auto 50px;\n  text-align: center;\n\n  input {\n    width: 100%;\n     padding: 5px;\n     border: 1px solid black;\n     border-radius: 2px;\n\n    &:focus {\n     background-color: #e6e6e6;\n    }\n  }\n\n  textarea {\n    width: 100%;\n    padding: 5px;\n    margin: 20px auto 0;\n    border: 1px solid black;\n    border-radius: 2px;\n  }\n  .error {\n    text-align: left;\n    color: red;\n  }\n`;\n\nconst SubmitButton = styled.button`\n  width: 80px;\n  padding: 5px;\n  text-align: center;\n  margin: 20px auto 0;\n  background-color: #00cc66;\n  color: #fff;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  font-weight: bold;\n  cursor: pointer;\n`;\n\nconst NewPost = (store ) => {\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [error, setError] = useState(false);\n\n  const handleTitleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setError(false);\n    setTitle(e.target.value);\n  };\n\n  const handleBodyChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    setError(false);\n    setBody(e.target.value);\n  };\n\n  const handleSubmit =  (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    if (title.trim() !== '' && body.trim() !== '') {\n      store.dispatch(addPost({ title, body }));\n      setTitle('');\n      setBody('');\n    } else {\n      setError(true);\n    }\n  };\n  return (\n    <Layout>\n      <Heading>Create new post</Heading>\n      <NewPostForm onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={title}\n          name=\"title\"\n          placeholder=\"Enter the title\"\n          onChange={handleTitleChange}\n        />\n        {(error && title.trim() === '') && <div className=\"error\">The title is empty</div>}\n        <textarea\n          rows={5}\n          value={body}\n          name=\"body\"\n          placeholder=\"Enter the post\"\n          onChange={handleBodyChange}\n        />\n        {(error && body.trim() === '') && <div className=\"error\">The post field is empty</div>}\n        <SubmitButton type=\"submit\">Create</SubmitButton>\n      </NewPostForm>\n    </Layout>\n  );\n};\n\nexport default nextConnect((state) => state)(NewPost)\n"]},"metadata":{},"sourceType":"module"}