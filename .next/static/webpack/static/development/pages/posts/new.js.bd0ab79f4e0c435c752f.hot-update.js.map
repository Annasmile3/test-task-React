{"version":3,"file":"static/webpack/static\\development\\pages\\posts\\new.js.bd0ab79f4e0c435c752f.hot-update.js","sources":["webpack:///./pages/posts/new.tsx"],"sourcesContent":["import React, { useState, ChangeEvent, FormEvent } from 'react';\nimport styled from 'styled-components';\nimport { addPost } from '../../actions';\nimport Layout from '../../components/MyLayout';\nimport { getPosts, getComments, createPost } from '../../api/client';\nconst Heading = styled.h1`\n  width: 250px;\n  margin: 30px auto 40px;\n`;\n\nconst NewPostForm = styled.form`\n  width: 250px;\n  margin: 30px auto 50px;\n  text-align: center;\n\n  input {\n    width: 100%;\n     padding: 5px;\n     border: 1px solid black;\n     border-radius: 2px;\n\n    &:focus {\n     background-color: #e6e6e6;\n    }\n  }\n\n  textarea {\n    width: 100%;\n    padding: 5px;\n    margin: 20px auto 0;\n    border: 1px solid black;\n    border-radius: 2px;\n  }\n  .error {\n    text-align: left;\n    color: red;\n  }\n`;\n\nconst SubmitButton = styled.button`\n  width: 80px;\n  padding: 5px;\n  text-align: center;\n  margin: 20px auto 0;\n  background-color: #00cc66;\n  color: #fff;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  font-weight: bold;\n  cursor: pointer;\n`;\n\nconst NewPost = () => {\n  const [title, setTitle] = useState('');\n  const [body, setBody] = useState('');\n  const [error, setError] = useState(false);\n\n  const handleTitleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setError(false);\n    setTitle(e.target.value);\n  };\n\n  const handleBodyChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    setError(false);\n    setBody(e.target.value);\n  };\n\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    if (title.trim() !== '' && body.trim() !== '') {\n      debugger;\n      const post = await createPost({ title, body });\n      addPost({ title, body });\n      setTitle('');\n      setBody('');\n    } else {\n      setError(true);\n    }\n  };\n  return (\n    <Layout>\n      <Heading>Create new post</Heading>\n      <NewPostForm onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={title}\n          name=\"title\"\n          placeholder=\"Enter the title\"\n          onChange={handleTitleChange}\n        />\n        {(error && title.trim() === '') && <div className=\"error\">The title is empty</div>}\n        <textarea\n          rows={5}\n          value={body}\n          name=\"body\"\n          placeholder=\"Enter the post\"\n          onChange={handleBodyChange}\n        />\n        {(error && body.trim() === '') && <div className=\"error\">The post field is empty</div>}\n        <SubmitButton type=\"submit\">Create</SubmitButton>\n      </NewPostForm>\n    </Layout>\n  );\n};\n\nexport default NewPost;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAKA;AA6BA;AACA;AAaA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AAGA;AAJA;AAAA;AAKA;AAAA;AAAA;AACA;AANA;AAKA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AARA;AAAA;AACA;AADA;AAUA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAYA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;A","sourceRoot":""}